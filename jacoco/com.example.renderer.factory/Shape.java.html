<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Shape.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GraphRenderSystem</a> &gt; <a href="index.source.html" class="el_package">com.example.renderer.factory</a> &gt; <span class="el_source">Shape.java</span></div><h1>Shape.java</h1><pre class="source lang-java linenums">
package com.example.renderer.factory;

import com.example.renderer.bridge.Renderer;
import com.example.renderer.visitor.ExportVisitor;

/**
 * Shape接口定义了所有图形对象的基本行为。
 * 作为图形系统的核心接口，它支持以下操作：
 * &lt;ul&gt;
 *   &lt;li&gt;渲染 - 通过render(Renderer)方法&lt;/li&gt;
 *   &lt;li&gt;移动 - 通过move(int, int)方法&lt;/li&gt;
 *   &lt;li&gt;访问者模式 - 通过accept(ExportVisitor)方法&lt;/li&gt;
 * &lt;/ul&gt;
 * 所有具体图形类(如圆形、矩形等)都应实现此接口。
 * 
 * &lt;p&gt;该接口遵循以下设计模式：
 * &lt;ul&gt;
 *   &lt;li&gt;桥接模式 - 通过Renderer参数实现绘制逻辑的解耦&lt;/li&gt;
 *   &lt;li&gt;访问者模式 - 通过accept方法支持对图形的扩展操作&lt;/li&gt;
 *   &lt;li&gt;命令模式 - move方法支持图形位置的变更操作&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * &lt;p&gt;典型实现示例：
 * &lt;pre&gt;{@code
 * public class Circle implements Shape {
 *     public void render(Renderer r) {
 *         r.drawCircle(x, y, radius);
 *     }
 *     // 其他方法实现...
 * }
 * }&lt;/pre&gt;
 *
 * @author DeepSeek-Coder
 * @version 1.0
 * @see Circle 圆形实现
 * @see Rectangle 矩形实现 
 * @see Ellipse 椭圆实现
 * @see Triangle 三角形实现
 * @since 2025-06-24
 */



public interface Shape {
    /**
     * 使用指定的渲染器绘制图形。
     * 
     * &lt;p&gt;具体绘制逻辑由实现类决定，渲染器参数提供实际的绘制能力。&lt;/p&gt;
     * 
     * &lt;p&gt;实现类应确保：
     * &lt;ul&gt;
     *   &lt;li&gt;参数renderer不为null&lt;/li&gt;
     *   &lt;li&gt;正确调用renderer的对应绘制方法&lt;/li&gt;
     *   &lt;li&gt;处理渲染器抛出的异常&lt;/li&gt;
     * &lt;/ul&gt;
     * 
     * @param renderer 用于绘制图形的渲染器实现(非null)
     * @throws NullPointerException 如果渲染器参数为null
     * @throws IllegalArgumentException 如果当前图形的参数不合法(如负尺寸)
     * @throws IllegalStateException 如果图形处于不可渲染的状态
     * 
     * @author Aider+SillconFlow-DeepSeek-R1
     * @since 2025-06-29
     */
    void render(Renderer renderer) throws NullPointerException, IllegalArgumentException, IllegalStateException;

    /**
     * 创建并返回当前图形的一个深拷贝。
     * 
     * &lt;p&gt;此方法返回图形对象的精确副本，包括所有内部状态数据。对于包含引用类型字段的对象，需要递归实现深拷贝。&lt;/p&gt;
     * 
     * &lt;p&gt;实现要求：
     * &lt;ul&gt;
     *   &lt;li&gt;必须返回独立的新对象&lt;/li&gt;
     *   &lt;li&gt;修改副本不应影响原对象&lt;/li&gt;
     *   &lt;li&gt;字段值为引用类型时必须深拷贝&lt;/li&gt;
     * &lt;/ul&gt;
     * 
     * @return 图形的新副本
     * @throws CloneNotSupportedException 如果图形不支持克隆
     * 
     * @author Aider+SillconFlow-Deepseek-R1
     * @since 2025-06-29
     */
    Shape clone() throws CloneNotSupportedException;
    
    /**
     * 验证坐标位置是否有效
     * 
     * &lt;p&gt;此方法用于检查图形坐标是否在合理范围内&lt;/p&gt;
     * 
     * @param x x坐标(单位为像素)
     * @param y y坐标(单位为像素)
     * @throws IllegalArgumentException 当坐标为负数时抛出
     * 
     * 
     * @author Aider+SillconFlow-Deepseek-R1
     * @since 2025-06-29
     */
    default void validatePosition(int x, int y) {
<span class="nc bnc" id="L102" title="All 4 branches missed.">        if (x &lt; 0 || y &lt; 0) {</span>
<span class="nc" id="L103">            throw new IllegalArgumentException(&quot;坐标不能为负数&quot;);</span>
        }
<span class="nc" id="L105">    }</span>

    /**
     * 移动图形的位置。
     * 
     * &lt;p&gt;根据给定的偏移量调整图形的坐标位置，正数表示向右/下移动，负数表示向左/上移动。&lt;/p&gt;
     * 
     * @param dx X轴方向的移动距离（像素）
     * @param dy Y轴方向的移动距离（像素）
     * 
     * @author Aider+SillconFlow-Deepseek-R1
     * @since 2025-06-29
     */
    void move(int dx, int dy);

    /**
     * 接受访问者访问此图形对象，实现访问者模式。
     * &lt;p&gt;允许访问者对图形对象进行操作而不修改图形本身。&lt;/p&gt;
     * 
     * @param visitor 用于处理图形的访问者对象(非null)
     * @throws NullPointerException 如果visitor为null
     * 
     * @author Aider+DeepSeek
     * @author Aider+SillconFlow-DeepSeek-R1
     * @since 2025-06-29
     */
    void accept(ExportVisitor visitor);
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>